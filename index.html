<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <title>Fontrivia | Home</title>
    <link rel="icon" href="Media/Fontrivia logo.png" />
    <script src="https://apis.google.com/js/api.js"></script>
    <script>
      function loadClient() {
        gapi.client.setApiKey("AIzaSyCYXVUXYdjLi5O-bJLmxgrpzQtiBv_T_ic");
        return gapi.client.load("https://www.googleapis.com/discovery/v1/apis/webfonts/v1/rest")
            .then(function() { console.log("GAPI client loaded for API"); },
                  function(err) { console.error("Error loading GAPI client for API", err); });
      }
      // Make sure the client is loaded before calling this method.
      function execute() {
        return gapi.client.webfonts.webfonts.list({})
            .then(function(response) {
                    let ranFontIndex = Math.floor(Math.random() * response.result.items.length);
                    console.log(ranFontIndex);
                    console.log("Response", response.result.items[ranFontIndex]); 
                    let fontName = response.result.items[ranFontIndex].family;
                    console.log("Font name:", fontName);
                    let fontCategory = response.result.items[ranFontIndex].category;
                    console.log("Font Category:", fontCategory);

                  },
                  function(err) { console.error("Execute error", err); });
      }
      gapi.load("client");
    </script>
  </head>
  <body class="index">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="index.html">Fontrivia</a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarSupportedContent"
        aria-controls="navbarSupportedContent"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="index.html"
              >Home <span class="sr-only">(current)</span></a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="login.html">Page 1</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="register.html">Page 2</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link disabled"
              href="#"
              tabindex="-1"
              aria-disabled="true"
              >Nothing here</a
            >
          </li>
        </ul>
      </div>
    </nav>
    <button onclick="loadClient()">load</button>
    <button onclick="execute()">execute</button>
    <div class="container">
      <div class="setwords">
        <h2 id="setwords">The quick brown fox jumps over the lazy dog.</h2>
      </div>
    </div>

  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script
    src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
    crossorigin="anonymous"
  ></script>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js"
    integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s"
    crossorigin="anonymous"
  ></script>
</html>
